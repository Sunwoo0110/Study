# ğŸ“š Spring DTO

---

## 1. ì£¼ì œ/í‚¤ì›Œë“œ
- Springì—ì„œ DTOì— ëŒ€í•´ ì•Œì•„ë³´ì~~ (à¹‘Ùˆâ€¢Ì€Î”â€¢Ì)Ùˆ

---

## 2. í•µì‹¬ ìš”ì•½ (Summary)
### DTO(Data Transfer Object)ë€?
- ê³„ì¸µ ê°„ ë˜ëŠ” ì‹œìŠ¤í…œ ê°„ **ë°ì´í„° ì „ì†¡**ì„ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê°ì²´
- DTOëŠ” ìˆœìˆ˜í•´ì•¼í•œë‹¤!
  - DTOëŠ” ë°ì´í„° êµ¬ì¡°ë§Œ ê°€ì§€ê³ , **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ë‚˜ ë³€í™˜ ë° ê²€ì¦ ë¡œì§ì„ í¬í•¨í•˜ì§€ ì•ŠìŒ**
- **ìœ ì§€ë³´ìˆ˜ì„±**: ë³€ê²½ ì‹œ ì—°ê´€ë˜ëŠ” ì˜í–¥ì´ ì ì–´ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜ì • ê°€ëŠ¥
- **í…ŒìŠ¤íŠ¸ ìš©ì´**: ë¡œì§ì´ ì—†ìœ¼ë‹ˆ DTO ë‹¨ìœ„ë¡œ ì§ê´€ì ì´ê³  ê°„ë‹¨í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ê°€ëŠ¥
- **ì¬ì‚¬ìš©ì„±**: ë‹¤ì–‘í•œ ì»¨í…ìŠ¤íŠ¸(Request, Response, ë§¤í•‘)ì—ì„œ ê°™ì€ DTOë¥¼ ì•ˆì „í•˜ê²Œ ì¬ì‚¬ìš©
- **ê²°í•©ë„ ê°ì†Œ**: Entityë‚˜ ì„œë¹„ìŠ¤ ë¡œì§ê³¼ì˜ ì˜ì¡´ì„±ì„ ì¤„ì—¬, ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ë°œì „, ë°°í¬ ê°€ëŠ¥
- ì™œ ì‚¬ìš©í• ê¹Œ?
  - **ì˜ì¡´ì„± ë¶„ë¦¬**: Entityì™€ API ìŠ¤í™(ìš”ì²­, ì‘ë‹µ êµ¬ì¡°)ì„ ë¶„ë¦¬
    - ë‚´ë¶€ ë„ë©”ì¸ ëª¨ë¸(Entity) ë…¸ì¶œ ë°©ì§€
    - API ë¬¸ì„œì™€ ì‹¤ì œ ì½”ë“œê°€ ì¼ì¹˜í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ í¸ë¦¬
  - **ë„¤íŠ¸ì›Œí¬/í˜ì´ë¡œë“œ ìµœì í™”**: í•„ìš”í•œ í•„ë“œë§Œ í¬í•¨í•´ ì „ì†¡ëŸ‰ ê°ì†Œ
  - **ë³´ì•ˆ ê°•í™”**: ë¯¼ê° ì •ë³´(ë¹„ë°€ë²ˆí˜¸, ë‚´ë¶€ ìƒíƒœ ë“±) ë…¸ì¶œ ì°¨ë‹¨
- ì¢…ë¥˜
  - **Request DTO**: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ë°ì´í„°ë¥¼ Controller -> Serviceë¡œ ì „ë‹¬
  - **Response DTO**: Service ê²°ê³¼ë¥¼ Controller/í´ë¼ì´ì–¸íŠ¸ë¡œ ì‘ë‹µ

----

### Request DTO vs Response DTO
- **Request DTO**ì€ `Mutable`í•˜ê²Œ ì„¤ê³„
  - **í•„ë“œ ë³€ê²½ í—ˆìš©**
  - Jackson ë°”ì¸ë”©ì„ ìœ„í•´ `@NoArgsConstructor` + `@Setter` ì‚¬ìš© (`@Data` í¬í•¨ ê°€ëŠ¥)
    - ë‹¤ë§Œ `@Data` í•˜ë‚˜ëŠ” ëª¨ë“  Getter/Setter/equals/toString ìƒì„±í•˜ê¸° ë•Œë¬¸ì—, ì˜ë„ì¹˜ ì•Šì€ Setter í—ˆìš©, equals/hashCode ì „ í•„ë“œ ë°˜ì˜ ìœ„í—˜ì´ ìˆìŒ
    - ë”°ë¼ì„œ í•„ìš”ì— ë”°ë¼ ì—¬ëŸ¬ ì–´ë…¸í…Œì´ì…˜ì„ ì¡°í•©í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „(`@Getter`+`@Setter`+`@NoArgsConstructor`, `@Getter`+`@AllArgsConstructor`+`@Builder`)
  - ê²½ìš°ì— ë”°ë¼ Builder ë°”ì¸ë”©(`@ConstructorBinding` or Lombok `@Builder`)ìœ¼ë¡œ **ë¶ˆë³€ Request** ìƒì„±ë„ ì„ íƒ ê°€ëŠ¥
  - Validation ì• ë…¸í…Œì´ì…˜(`@NotNull`, `@NotBlank`)ìœ¼ë¡œ í•„ìˆ˜ í•„ë“œ í‘œì‹œ ë° API ë¬¸ì„œí™”
  - ì—¬ê¸°ì„œ ì ê¹! Jackonì´ë€?
    - ìë°” ê°ì²´ì™€ JSON ê°„(ë˜ëŠ” XML ë“± ë‹¤ë¥¸ í¬ë§·ë„ ì§€ì›)ì„ ì§ë ¬í™”/ì—­ì§ë ¬í™”í•´ ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
    - ì§ë ¬í™”(Serialization): ìë°” ê°ì²´ -> JSON ë¬¸ìì—´
    - ì—­ì§ë ¬í™”(Deserialization): JSON ë¬¸ìì—´ -> ìë°” ê°ì²´
  - ë‚˜ì˜ ê²½ìš°ì—ëŠ” `@Getter @Setter @NoArgsConstructor(access = AccessLevel.PROTECTED) @AllArgsConstructor` ì¡°í•©ìœ¼ë¡œ ì‚¬ìš©

- **Response DTO**ì€ `Immutable`í•˜ê²Œ ì„¤ê³„
  - **ì²˜ìŒ ìƒì„± í›„ ë‚´ë¶€ ìƒíƒœ ë³€ê²½ ê¸ˆì§€**
  - ëª¨ë“  í•„ë“œë¥¼ `private final`ìœ¼ë¡œ ì„ ì–¸, Setter ì œê±°
  - Lombok `@Getter`, `@AllArgsConstructor(access = AccessLevel.PRIVATE)` + `@Builder` ì¡°í•©ìœ¼ë¡œ Builderë¥¼ í†µí•œ ëª…ì‹œì  ìƒì„± ê°•ì œ
  - í˜¹ì€ ê°„í¸í•˜ê²Œ `@Value` ë¡œ ì„ ì–¸ ê°€ëŠ¥
  - Java 16+ í”„ë¡œì íŠ¸ì—ì„œëŠ” `record`ë¡œ ê°„ê²°í•˜ê²Œ ë¶ˆë³€ DTO ì •ì˜ ê°€ëŠ¥
  - `@JsonInclude(JsonInclude.Include.NON_NULL)` ì‚¬ìš©í•´ `null` í•„ë“œë¥¼ ì‘ë‹µ JSONì—ì„œ ì œì™¸í•˜ì—¬ ì•ˆì „í•˜ê³  ê°€ë²¼ìš´ payload ìƒì„±
  - ë‚˜ì˜ ê²½ìš°ì—ëŠ” `@Getter @AllArgsConstructor(access = AccessLevel.PRIVATE) @Builder @JsonInclude(JsonInclude.Include.NON_NULL)` ì¡°í•©ìœ¼ë¡œ ì‚¬ìš©

- ì—¬ê¸°ì„œ ì ê¹!! (ãƒ»Ğ”ãƒ»)ãƒ 

- ê·¸ëŸ¬ë©´ ì™œ **Response DTOëŠ” Immutable** í•´ì•¼ í•˜ë‚˜?
  1. ì‚¬ì´ë“œ ì´í™íŠ¸ ë°©ì§€: ì¤‘ê°„ ì²˜ë¦¬(í•„í„°ë‚˜ AOP ë“±) ê³¼ì •ì—ì„œ ê°’ì´ ë°”ë€Œì§€ ì•Šì•„ì•¼í•¨
  2. ìŠ¤ë ˆë“œ ì•ˆì „ì„±: ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ë™ê¸°í™” ì—†ì´ ê³µìœ  ê°€ëŠ¥(ê°’ì´ ë°”ë€Œì§€ ì•Šì•„ ì•ˆì „í•˜ê²Œ ê³µìœ  ê°€ëŠ¥)
  3. ìºì‹± ì•ˆì •ì„±: ìºì‹œëœ ì‘ë‹µì´ ë³€í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì¼ê´€ëœ ê²°ê³¼ ë³´ì¥
  4. ë””ë²„ê¹…, í…ŒìŠ¤íŠ¸ ìš©ì´: ë¶ˆë³€ ê°ì²´ëŠ” ì¶”ì  ë° ê²€ì¦ì´ ì‰¬ì›€

- ê·¸ëŸ¬ë©´ ë°˜ëŒ€ë¡œ ì™œ **Request DTOëŠ” Mutable** ë¡œ ì„¤ê³„í•˜ëŠ” ê²½ìš°ê°€ ë§ì„ê¹Œ?
  1. Jackson ë°”ì¸ë”© í¸ì˜: ê¸°ë³¸ ìƒì„±ìì™€ Setterê°€ í•„ìš”
       - Spring MVCëŠ” JSONì„ ê°ì²´ë¡œ ë°”ê¿€ ë•Œ ê¸°ë³¸ ìƒì„±ìë¡œ ë¹ˆ DTO ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³  setXxx() ë©”ì„œë“œë¡œ í•˜ë‚˜ì”© í•„ë“œë¥¼ ì±„ì›€
  2. **Valid ê²€ì¦**: DTOê°€ mutableí•´ì•¼ ë¹ˆ DTO -> Setterë¡œ ê°’ ì±„ì›€ -> ê²€ì¦ ìˆœì„œê°€ ì´ë£¨ì–´ì§. ì¦‰, Setterê°€ ì—†ìœ¼ë©´ ê²€ì¦ ë‹¨ê³„ë¡œ ë„˜ì–´ê°ˆ ìˆ˜ë„ ì—†ìŒ. (Request DTOì—ëŠ” ê²€ì¦ì„ ìœ„í•œ `@NotNull`, `@Size`, `@Pattern` ë“±ì˜ annotationì„ ì‚¬ìš©)
  3. ìœ ì—°ì„± ë° ë‹¨ê³„ì  ë°”ì¸ë”©: API ìš”ì²­ì—ì„œ ì—¬ëŸ¬ ì†ŒìŠ¤(path ë³€ìˆ˜, ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°, ë°”ë”” ë“±)ì—ì„œ ì˜¤ëŠ” ê²½ìš°, ì°¨ë¡€ëŒ€ë¡œ ë°”ì¸ë”© ë˜ëŠ” ê²½ìš°ê°€ ìˆìŒ. ì´ ë•Œ, Mutable í•´ì•¼ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í˜¸ì¶œë  ë•Œ í”„ë ˆì„ì›Œí¬ê°€ ì•Œì•„ì„œ ë°”ì¸ë”©í•´ì¤Œ(setXxx ë¥¼ ì—¬ëŸ¬ ë²ˆ ê°ê° í˜¸ì¶œ)

* ì–´ë…¸í…Œì´ì…˜ ì •ë¦¬

  | ëª©ì                  | ì–´ë…¸í…Œì´ì…˜ ì¡°í•©                                                                            |
  | ------------------ | ----------------------------------------------------------------------------------- |
  | Mutable Request    | `@Getter`, `@Setter`, `@NoArgsConstructor`, (`@Data`)                               |
  | Immutable Request  | `@ConstructorBinding`, `@Builder`, final í•„ë“œ, Setter ì œê±°                              |
  | Immutable Response | `@Getter`, `@AllArgsConstructor(access = PRIVATE)`, `@Builder`, final í•„ë“œ, Setter ì œê±° |

---

### ì •ê·œí™” ë¡œì§
- APIë¡œ ë°›ì€ ë°ì´í„°ê°€ ë°”ë¡œ ì—”í‹°í‹°ë¡œ ë“¤ì–´ê°€ê¸° ì „ì— **ì¼ê´€ì„±**ê³¼ **ë¬´ê²°ì„±**ì„ ë³´ì¥í•´ ì£¼ê¸° ìœ„í•´ì„œ ì‚¬ìš©
- ex. ê³µë°± ì œê±°(trim), ì†Œë¬¸ì ë³€í™˜(lowercase), ë‚ ì§œ í˜•ì‹ íŒŒì‹±
- MapStruct: 

**MapStruct ë§¤í¼ ë°©ì‹**
- ì»´íŒŒì¼ íƒ€ì„ì— í•„ë“œ ë§¤í•‘ ì˜¤ë¥˜ë¥¼ ì¡ìŒ(íƒ€ì…, ì •ê·œí™” ë“±)
- ë§¤í•‘ ì½”ë“œì™€ ì •ê·œí™” ì½”ë“œë¥¼ í•œê³³ì— ëª¨ì•„ë‘ì–´ ê´€ë¦¬ê°€ í¸í•¨
- DTOì™€ Entityê°€ ëŠìŠ¨í•œ ê²°í•©(Loosely Coupled)
  - DTOëŠ” ë‹¨ìˆœ ë°ì´í„° êµ¬ì¡°ë§Œ ê°€ì§€ê³ , ë³€í™˜ ë¡œì§ì€ ë§¤í¼ ì¸í„°í˜ì´ìŠ¤ ì•ˆì— ë‘ 
  - ë”°ë¼ì„œ ë³€ê²½ì´ ìˆì„ ë•Œ Entity êµ¬ì¡°ë§Œ ë°”ë€Œë©´ ë§¤í¼ë§Œ ê³ ì¹˜ë©´ ë˜ê³ , DTOëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€í•  ìˆ˜ ìˆì–´ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›€!!
- ë‹¤ë§Œ ì‘ì€ DTO í•˜ë‚˜ ì²˜ë¦¬í•˜ëŠ”ë°ë„ ë§¤í¼ í´ë˜ìŠ¤ê°€ í•„ìš”í•´ ì˜¤ë²„í—¤ë“œ ë°œìƒ ê°€ëŠ¥
```java
@Mapper(componentModel = "spring")
public interface UserMapper {
    @Mapping(target="username", expression="java(dto.getUsername().trim().toLowerCase())")
    @Mapping(target="signupDate", dateFormat="yyyy-MM-dd")
    User toEntity(UserCreateDto dto);
}
```
**DTO `toEntity()` ë‚´ë¶€ ë°©ì‹**
- DTO ì•ˆì— ë°”ë¡œ ë³€í™˜ ë¡œì§ì„ ë„£ì–´ ê°„ë‹¨íˆ ì‚¬ìš© ê°€ëŠ¥
- DTOì™€ Entityê°€ ê°•í•˜ê²Œ ê²°í•©
  - DTO í´ë˜ìŠ¤ ì•ˆì— ì—”í‹°í‹° ìƒì„±(ë³€í™˜) ë¡œì§ì´ ë“¤ì–´ ìˆì–´ì„œ ë‘ ê°ì²´ê°€ ì„œë¡œ ê¹Šì´ ì˜ì¡´
  - ë”°ë¼ì„œ DTOê°€ Entity êµ¬ì¡°ë¥¼ ì•Œì•„ì•¼ í•˜ê³ , Entityê°€ ìˆ˜ì •ë˜ë©´ DTOì˜ toEntityë„ ìˆ˜ì •ë˜ì–´ì•¼í•¨ -> ìœ ì§€ë³´ìˆ˜ ë¶€ë‹´ ì¦ê°€
- ì—¬ëŸ¬ DTOë§ˆë‹¤ ê°™ì€ ì½”ë“œê°€ ì¤‘ë³µë  ìˆ˜ ìˆìŒ

```java
public class UserCreateDto {
    private String username;
    private String signupDate;

    public User toEntity() {
        return User.builder()
            .username(username.trim().toLowerCase())
            .signupDate(LocalDate.parse(signupDate))
            .build();
    }
}
```

---

### Builder vs Setter

| í•­ëª©            | Setter ë°©ì‹                                            | Builder ë°©ì‹                                                                                  |
| ------------- | ---------------------------------------------------- | ------------------------------------------------------------------------------------------- |
| **ì´ˆê¸°í™” ëª…ì‹œì„±**   | ì—¬ëŸ¬ `setXxx()` í˜¸ì¶œë¡œ ì¸í•´ ì–´ëŠ í•„ë“œê°€ ë¹ ì¡ŒëŠ”ì§€ í™•ì¸í•˜ê¸° ì–´ë ¤ì›Œ ì‹¤ìˆ˜ ë°œìƒ ê°€ëŠ¥ | `.field(value)` ì²´ì´ë‹ìœ¼ë¡œ ì–´ë–¤ í•„ë“œë¥¼ ì„¤ì •í–ˆëŠ”ì§€ í•œëˆˆì— íŒŒì•…, í•„ìˆ˜ í•„ë“œ ëˆ„ë½ ì‹œ `Objects.requireNonNull` ë“±ìœ¼ë¡œ ì˜¤ë¥˜ ì¡°ê¸° ë°œê²¬ |
| **ë¶ˆë³€ì„± ë³´ì¥**    | ê°ì²´ ìƒì„± í›„ì—ë„ ì–¸ì œë“  `setXxx()`ë¡œ ê°’ ë³€ê²½ ê°€ëŠ¥ -> ìƒíƒœ ì¶”ì  ì–´ë ¤ì›€        | `build()` í˜¸ì¶œ í›„ ëª¨ë“  í•„ë“œê°€ `final`ë¡œ ê³ ì •ë˜ì–´ ë³€ê²½ ë¶ˆê°€ -> ìƒíƒœ ì¼ê´€ì„±, ì•ˆì •ì„± í™•ë³´                                   |
| **ê°€ë…ì„±**       | ì„¤ì • ì½”ë“œê°€ ë¶„ì‚°ë˜ì–´ ìˆì–´ ì „ì²´ ì´ˆê¸°í™” íë¦„ì„ íŒŒì•…í•˜ê¸° ì–´ë ¤ì›€                   | ë¹Œë” í˜¸ì¶œ í•œ ì¤„ë¡œ ê°ì²´ ìƒì„±, ì´ˆê¸°í™” ê³¼ì •ì„ ëª…í™•í•˜ê²Œ ë³´ì—¬ì¤˜ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ                                            |
| **í…ŒìŠ¤íŠ¸ ì•ˆì •ì„±**   | í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì˜ëª»ëœ ìˆœì„œë‚˜ ëˆ„ë½ìœ¼ë¡œ ì´ˆê¸°í™” ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥                   | ë¹Œë” ë‚´ ê¸°ë³¸ê°’ ì„¤ì •, í•„ìˆ˜ í•„ë“œ ê²€ì¦ ë¡œì§ í™œìš©ìœ¼ë¡œ ì¼ê´€ëœ í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± -> ì¬ì‚¬ìš©ì„± í–¥ìƒ                                         |
| **ìœ ì—°ì„±**       | ëŸ°íƒ€ì„ì— ë™ì ìœ¼ë¡œ í•„ë“œë¥¼ ë³€ê²½í•´ì•¼ í•  ë•Œ ìœ ë¦¬                            | ê°ì²´ê°€ ë¶ˆë³€ì´ë¯€ë¡œ, ë³€ê²½í•  ë•Œë§ˆë‹¤ Builderë¡œ ë‹¤ì‹œ êµ¬ì„±í•´ì•¼ í•¨ -> ìœ ì—°ì„± ë‚®ìŒ                              |
| **ë¡œì§ ë¶„ë¦¬**     | DTO ìì²´ì— í•„ë“œ ì„¤ì • ë¡œì§ì´ ì„ì—¬ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŒ                       | Builder í´ë˜ìŠ¤ë¡œ ìƒì„± ë¡œì§ ë¶„ë¦¬ ê°€ëŠ¥ -> DTO í´ë˜ìŠ¤ëŠ” ìˆœìˆ˜ ë°ì´í„° ëª¨ë¸ë¡œ ìœ ì§€                                           |

---

### ê¸°ë³¸ê°’ ì²˜ë¦¬
- **DTO Getter ì˜¤ë²„ë¼ì´ë“œ**
  - ê¸°ë³¸ê°’ ë¡œì§ì„ DTO ì•ˆì— ëª¨ì•„ì„œ ê´€ë¦¬ -> ì„œë¹„ìŠ¤ ì½”ë“œì—ì„œëŠ” dto.getPage()ë§Œ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì— ê¹”ë”
  - DTOì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë“¤ì–´ê° -> â€œDTOëŠ” ìˆœìˆ˜ ë°ì´í„°â€ë¼ëŠ” ì›ì¹™ì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìˆìŒ
  - ```java
      public class PageRequestDto {
          private Integer page;
          private Integer size;

          public int getPage() {
              return (page != null && page > 0) ? page : 1;
          }

          public int getSize() {
              return (size != null && size > 0) ? size : 20;
          }
      }
      ```


- **ì„œë¹„ìŠ¤ ë‚´ Null ì²´í¬**
  - DTOëŠ” ìˆœìˆ˜í•˜ê²Œ ë°”ì¸ë”©ëœ ê°’ë§Œ ë³´ìœ 
  - ì„œë¹„ìŠ¤ë§ˆë‹¤ ë°˜ë³µì ì¸ orElse() ì½”ë“œê°€ ëŠ˜ì–´ë‚¨ -> ì‹¤ìˆ˜ë¡œ null ì²´í¬ë¥¼ ë¹¼ë¨¹ê¸° ì‰¬ì›€
  - ```java
      int page = Optional.ofNullable(dto.getPage()).filter(p -> p > 0).orElse(1);
      int size = Optional.ofNullable(dto.getSize()).filter(s -> s > 0).orElse(20);
      ```


- ì¥ë‹¨ì ì´ ëª…í™•í•´ì„œ ë³´í†µ íŒ€ ìŠ¤íƒ€ì¼ì— ë§ì¶° ì‘ì„±í•œë‹¤ê³  í•¨
- ~~ë‚˜ì˜ ê²½ìš°ì—ëŠ” **DTO Getter ì˜¤ë²„ë¼ì´ë“œ** ë¡œ ì‘ì„± (ì„œë¹„ìŠ¤ì—ì„œ ê¹Œë¨¹ê³  ë¹¼ë¨¹ì„ê±° ê°™ì•„ì„œ..)~~
- DTO ì„¤ê³„ ì›ì¹™ ì§€í‚¤ë ¤ê³  **ì„œë¹„ìŠ¤ ë‚´ Null ì²´í¬**ë¡œ ë³€ê²½

--- 

### ìì£¼ ì¼ì–´ë‚˜ëŠ” ì‹¤ìˆ˜
1. ë§¤ë²ˆ ìƒˆë¡œìš´ DTOë¥¼ ìš©ë„ë³„ë¡œ ë§Œë“¤ê¸°
   - ëª¨ë“  ìƒí™©ë§ˆë‹¤ ë³„ë„ì˜ DTOë¥¼ ë§Œë“¤ë©´ í´ë˜ìŠ¤ì™€ ë§¤í¼ ìˆ˜ê°€ ê¸°í•˜ê¸‰ìˆ˜ë¡œ ëŠ˜ì–´ë‚˜ ê´€ë¦¬ ë¹„ìš©ì´ ì¦ê°€

2. í•˜ë‚˜ì˜ DTOë¥¼ ëª¨ë‘ì—ê²Œ ë‹¤ ì“°ë ¤ê³  í•˜ê¸°
   - ë‹¨ì¼ í´ë˜ìŠ¤ë¡œ ë„ˆë¬´ ë§ì€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì²˜ë¦¬í•˜ë ¤ í•˜ë©´, ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì†ì„±ì´ ì”ëœ© í¬í•¨ëœ ê±°ëŒ€í•œ ê³„ì•½(contract)ì´ ë§Œë“¤ì–´ì§

3. DTOì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë„£ê¸°
   - DTOëŠ” ë°ì´í„° ì „ì†¡ê³¼ ê³„ì•½ êµ¬ì¡°ë¥¼ ìµœì í™”í•˜ê¸° ìœ„í•œ íŒ¨í„´ì´ë¯€ë¡œ, ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ë„ë©”ì¸(ì„œë¹„ìŠ¤) ë ˆì´ì–´ì—ë§Œ ë‘ì–´ì•¼ í•¨

4. ë¡œì»¬ DTO(LocalDTO)ë¥¼ ë‚¨ë°œí•˜ê¸°
   - ë„ë©”ì¸ ê°„ì— DTOë¥¼ ê³„ì† ì „ë‹¬í•˜ê¸° ìœ„í•´ LocalDTOë¥¼ ì“°ë©´, ì—­ì‹œ ë§¤í•‘ê³¼ ìœ ì§€ë³´ìˆ˜ ë¹„ìš©ì´ ì¦ê°€

---

## 3. ì˜ˆì œ ì½”ë“œ/í™œìš©ë²• (Example)
```java
/**
 * ì±… ê²€ìƒ‰ ìš”ì²­ DTO
 */
@Getter
@Setter
@NoArgsConstructor(access = AccessLevel.PROTECTED)
@AllArgsConstructor
public class BookSearchReqDto {

    @Schema(
            description  = "ì±… ì œëª©(ê²€ìƒ‰, optional)",
            example      = "í•´ë¦¬í¬í„°",
            requiredMode = RequiredMode.NOT_REQUIRED
    )
    private String title;

    @Schema(
            description  = "ì €ìëª…(ê²€ìƒ‰, optional)",
            example      = "J.K.ë¡¤ë§",
            requiredMode = RequiredMode.NOT_REQUIRED
    )
    private String author;

    @Schema(
            description  = "ì •ë ¬ ê¸°ì¤€ (ì˜ˆ: ratingAvg,desc ë˜ëŠ” createdAt,asc)",
            example      = "ratingAvg,desc",
            requiredMode = RequiredMode.NOT_REQUIRED
    )
    @Pattern(
            regexp  = "^[a-zA-Z0-9]+(Avg)?,(asc|desc)$",
            message = "sortëŠ” 'í•„ë“œëª…,asc' ë˜ëŠ” 'í•„ë“œëª…,desc' í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤."
    )
    private String sort;


    @Schema(
            description  = "í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘, ê¸°ë³¸=1)",
            example      = "1",
            requiredMode = RequiredMode.NOT_REQUIRED
    )
    @Min(1)
    private Integer page;

    @Schema(
            description  = "í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸=20, ìµœëŒ€=100)",
            example      = "20",
            requiredMode = RequiredMode.NOT_REQUIRED
    )
    @Min(1) @Max(100)
    private Integer size;

    // ê¸°ë³¸ê°’ ë³´ì¥
    public int getPage() {
        return page == null ? 1 : page;
    }

    public int getSize() {
        return size == null ? 20 : size;
    }

    // ì…ë ¥ ì •ê·œí™”
    public void setTitle(String title) {
        this.title = (title == null ? null : title.trim());
    }

    public void setAuthor(String author) {
        this.author = (author == null ? null : author.trim());
    }
}
```

---

## 4. ì‹¤ì „ ì ìš©/ëŠë‚€ ì  (Usage & Insights)
- [ì—°ê´€ ì´ìŠˆ]()
- [ì—°ê´€ PR]()
- ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ê°œë¡ ì—ì„œ ë°°ì› ë˜ ì¬ì‚¬ìš©ì„±, ìœ ì§€ë³´ìˆ˜, í…ŒìŠ¤íŠ¸ìš©ì´ì„±, ì•ˆì •ì„± ì´ëŸ° ë¶€ë¶„ì´ ì‹¤ì œ ì„¤ê³„ì—ì„œ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œ ì§€ ì•Œê²Œ ë˜ì—ˆë‹¤... ë‚˜ë¦„ëŒ€ë¡œ ì •ë§ ì‚¬ì†Œí•œ ë¶€ë¶„ í•˜ë‚˜ í•˜ë‚˜ ë§ì´ ê³ ë¯¼í•´ì„œ ì„¤ê³„í•´ë´¤ëŠ”ë°.. ë„ˆë¬´ í˜ë“¤ë‹¤!! ê·¸ë¦¬ê³  ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦°ë‹¤!! í•˜í•˜

---

## 5. ì°¸ê³ /ì¶”ê°€ ìë£Œ (References)
- [baeldung](https://www.baeldung.com/java-dto-pattern)
- [ë§ˆí‹´ íŒŒìš¸ëŸ¬](https://martinfowler.com/eaaCatalog/dataTransferObject.html)
- ìˆ˜ë§ì€ í‹°ìŠ¤í† ë¦¬ & velog.... ê·¸ë¦¬ê³  GPT

---

## 6. ë‚´ì¼/ë‹¤ìŒì— ë³¼ ê²ƒ (Next Steps)
- ë”ì´ìƒ ë¯¸ë£° ìˆ˜ ì—†ë‹¤.. MVC íŒ¨í„´

