# 📚 Normalization

## 1. 주제/키워드
- 데이터베이스 정규화(Normalization)와 비정규화(Denormalization)에 대해 알아보자~~~ (っ˘ڡ˘ς) 

---

## 2. 핵심 요약 (Summary)

### 정규화
- 테이블을 분해하여 **데이터 중복 최소화** 및 **무결성 보장**을 목표로 하는 과정
- 설계가 잘못되면 삽입(Insert), 갱신(Update), 삭제(Delete) 시 **이상 현상**(**Anomaly**) 발생
- 정규화는 이를 방지하기 위해 함수 종속성(Functional Dependency)을 기준으로 테이블을 쪼개는 것

---

### 정규화 필요성
- **데이터 중복 제거**: 저장 공간 절약
- **이상 현상 방지**: 삽입, 갱신, 삭제 시 논리적 오류 줄임
- **무결성 보장**: 참조 무결성, 일관성 유지
- **논리적 데이터 모델 명확화**: 유지보수 및 확장 용이
  
---

### 정규화 과정/종류
1. 제 1 정규형(1NF)
- 모든 속성은 원자값(Atomic)만 가짐
- 반복 컬럼 제거 -> 별도 테이블로 분리

2. 제 2 정규형(2NF)
- 부분 함수 종속 제거
- PK가 복합키일 때, 그 일부에만 종속된 속성을 제거

3. 제 3 정규형(3NF)
- 이행 함수 종속 제거
- 비PK 속성이 다른 비PK 속성에 종속되면 제거

4. BCNF (Boyce-Codd Normal Form)
- 모든 결정자가 후보키가 되도록
- 3NF보다 더 엄격한 형태

5. 제 4 정규형(4NF)
- 다치 종속 제거 (한 키가 여러 독립적 속성 집합에 종속될 때 분리)

6. 제 5 정규형(5NF)
- 조인 종속 제거 -> 더 이상 분해 불가능한 상태

---

### 비정규화
- 성능 최적화를 위해 **의도적으로 정규화 원칙을 일부 위배**하는 것
- OIN 비용이 크거나 조회가 빈번한 경우, 중복 허용 후 성능 확보
- 필요성
  - **조회 성능 향상**: 다중 JOIN으로 인한 부하 감소
  - **통계/집계 속도 개선**: 미리 계산한 합계, 평균을 컬럼으로 저장
  - **캐싱 효과**: 중복된 값 저장하여 빠른 접근

---

### 스터리 질문 정리
#### 비정규화가 성능 향상에 도움이 되는 이유가 무엇인가요?
- 정규화를 과도하게 하면 JOIN이 많아져 조회 비용이 커집니다. 반대로 비정규화는 중복 데이터를 허용하면서, 자주 쓰이는 정보를 한 테이블에 모아두어 조회 성능을 높입니다. 또한 집계 연산 결과를 컬럼에 저장해두면 통계 조회 속도도 빨라집니다. 다만 중복 데이터로 인해 무결성 관리 비용이 증가하는 트레이드오프가 있습니다.

#### 데이터베이스 이상현상(anomaly)는 어떤 것이 있을까요?
- 삽입 이상: 예를 들어 학생-수강 테이블에서 학생만 추가하려 해도 강의 정보가 없으면 삽입이 안 되는 문제
- 갱신 이상: 한 학생의 주소를 여러 행에 중복 저장했다가 일부만 수정되면 불일치가 발생하는 문제
- 삭제 이상: 특정 수강 내역을 삭제했는데, 학생 정보까지 함께 사라져 버리는 문제

---

## 3. 참고/추가 자료 (References)
- 데이터베이스 개론 3판

---

## 4. 내일/다음에 볼 것 (Next Steps)
- DB 부하 분산 전략 공부 제발..
 
